function Ub(){}var Vb=m.localStorage,Wb,Xb;function Yb(){Wb!==navigator.onLine&&l.body&&("undefined"===typeof Wb&&navigator.onLine||RAF(function(){navigator.onLine?(l.body.classList.remove("offline"),C.g("offline")):(l.body.classList.add("offline"),C.g("online"));Wb=navigator.onLine?!0:!1}))}var Zb,$b;
function ac(a,c){X||(X=new Worker(y[4][0].replace(/(\.debug)?\.js$/,"-worker$1.js")),Zb=function(a){a=a.data||[];switch(a[0].toString()){case "1":if(-1!==a[1])a[2]||a[3]?Vb.setItem("o10n-sw-hash-verify",JSON.stringify([a[2],a[3],D()])):Vb.removeItem("o10n-sw-hash-verify");else{var b=Vb.getItem("o10n-sw-hash-verify");b&&(b=JSON.parse(b),b[2]=D(),Vb.setItem("o10n-sw-hash-verify",JSON.stringify(b)))}a[1]?C.g("sw:install"):Xb.update()}},X.addEventListener("message",Zb),$b=function(){},X.addEventListener("error",
$b),m.onbeforeunload=function(){X&&X.terminate()});c?X.postMessage(a,[c]):X.postMessage(a)}function bc(){var a=Y.controller;return a?Promise.resolve(a):new Promise(function(a){Y.ready.then(function(){if(Y.controller)a(Y.controller);else{var b=function(){setTimeout(function(){Y.controller?a(Y.controller):b()},500)};b()}})})}function cc(a){return bc().then(function(c){return new Promise(function(b,d){var e=++dc;C.once("sw:"+e,function(a,c){a?d(a):b(c)});a.unshift(ec,e);c.postMessage(a)})})}
function fc(a,c,b){cc([2,a]).then(c)["catch"](function(a){b(a)})}function gc(a,c,b){cc([4,a,c]).then(function(a){b(a.status)})["catch"](function(a){reject(a)})}function hc(){if(ic){var a=this.getAttribute("href");if(a){if(X){try{X.removeEventListener("error",$b),X.removeEventListener("message",Zb)}catch(c){}try{X.terminate()}catch(c){}X=!1}fc(a,function(){})}}}
if("serviceWorker"in navigator){var Z=y[4]||False,Y=navigator.serviceWorker,ec="o10n",dc=0;if(Z){Z[3]&&(m.addEventListener("online",Yb),m.addEventListener("offline",Yb),Yb());Z[2]&&Y.register(Z[0],{scope:Z[1]?Z[1]:"/"}).then(function(a){return new Promise(function(c,b){a.installing?a.installing.addEventListener("statechange",function(d){"installed"==d.target.state?c(a):"redundant"==d.target.state&&b()}):c(a)})}).then(function(a){Xb=a;if(y[4][4]){var c=Vb.getItem("o10n-sw-hash-verify");c&&(c=JSON.parse(c));
(!c||-1===y[4][4]||c&&c[2]<D()-y[4][4])&&cc([1]).then(function(a){ac([4,a,y[4][0].replace(/(\.debug)?\.js$/,"-hash$1.txt"),c])})["catch"](function(){})}});Y.addEventListener("message",function(a){var c=a&&a.data?a.data:!1;if(c instanceof Array&&c[0]==ec){var b=c[1];b.postMessage(1);switch(c[2].toString()){case "1":C.g("sw:"+c[3],c[4],c[5]);break;case "2":C.g("sw:update",c[2]);break;case "3":ac(c.slice(3));break;case "4":var c=c.slice(3),d=c.shift();c.unshift(d,b);ac(c,b)}}C.g("sw:message",a)});var X;
Ub.prototype={cache:function(a){return new Promise(function(c,b){fc(a,c,b)})},push:function(a,c){return new Promise(function(b){gc(a,c,b)})}};if(Z[5]){var ic=!0;B(function(){if(m.jQuery)m.jQuery(function(a){a("body").on("mousedown","a",hc)});else for(var a=Array.prototype.slice.call(l.getElementsByTagName("a")),c=a.length,b=0;b<c;b++)a[b].onmousedown=hc})}A.sw=new Ub}};
